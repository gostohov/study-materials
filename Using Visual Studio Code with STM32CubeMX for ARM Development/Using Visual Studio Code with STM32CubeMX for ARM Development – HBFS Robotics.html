<!DOCTYPE html>
<!-- saved from url=(0076)http://hbfsrobotics.com/blog/configuring-vs-code-arm-development-stm32cubemx -->
<html lang="en-US" xmlns:og="http://opengraphprotocol.org/schema/" xmlns:fb="http://www.facebook.com/2008/fbml" class="" slick-uniqueid="3"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
   
	<link rel="profile" href="http://gmpg.org/xfn/11">
	<title>Using Visual Studio Code with STM32CubeMX for ARM Development – HBFS Robotics</title>
<link rel="dns-prefetch" href="http://ajax.googleapis.com/">
<link rel="dns-prefetch" href="http://fonts.googleapis.com/">
<link rel="dns-prefetch" href="http://s.w.org/">
<link rel="alternate" type="application/rss+xml" title="HBFS Robotics » Feed" href="https://hbfsrobotics.com/feed">
<meta property="fb:admins" content="1391337724460164"><meta property="og:title" content="Using Visual Studio Code with STM32CubeMX for ARM Development"><meta property="og:type" content="article"><meta property="og:url" content="https://hbfsrobotics.com/blog/configuring-vs-code-arm-development-stm32cubemx"><meta property="og:site_name" content="HBFS Robotics"><meta property="og:image" content="https://hbfsrobotics.com/wp-content/uploads/2018/08/IMG_7234-768x576.jpg"> 		<script type="text/javascript" async="" src="./Using Visual Studio Code with STM32CubeMX for ARM Development – HBFS Robotics_files/analytics.js.Без названия"></script><script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/hbfsrobotics.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.2.3"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55357,56424,55356,57342,8205,55358,56605,8205,55357,56424,55356,57340],[55357,56424,55356,57342,8203,55358,56605,8203,55357,56424,55356,57340]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script><script src="./Using Visual Studio Code with STM32CubeMX for ARM Development – HBFS Robotics_files/wp-emoji-release.min.js.Без названия" type="text/javascript" defer=""></script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel="stylesheet" id="wp-block-library-css" href="./Using Visual Studio Code with STM32CubeMX for ARM Development – HBFS Robotics_files/style.min.css" type="text/css" media="all">
<link rel="stylesheet" id="hbfstheme-bootstrap-css" href="./Using Visual Studio Code with STM32CubeMX for ARM Development – HBFS Robotics_files/bootstrap.min.css" type="text/css" media="all">
<link rel="stylesheet" id="hbfstheme-bootstrap-xl-css" href="./Using Visual Studio Code with STM32CubeMX for ARM Development – HBFS Robotics_files/bootstrap-xlgrid.min.css" type="text/css" media="all">
<link rel="stylesheet" id="hbfstheme-fonts-css" href="./Using Visual Studio Code with STM32CubeMX for ARM Development – HBFS Robotics_files/css" type="text/css" media="all">
<link rel="stylesheet" id="hbfstheme-fontawesome-css" href="./Using Visual Studio Code with STM32CubeMX for ARM Development – HBFS Robotics_files/font-awesome.min.css" type="text/css" media="all">
<link rel="stylesheet" id="hbfstheme-stylesheet-css" href="./Using Visual Studio Code with STM32CubeMX for ARM Development – HBFS Robotics_files/styles.css" type="text/css" media="all">
<link rel="stylesheet" id="enlighter-local-css" href="./Using Visual Studio Code with STM32CubeMX for ARM Development – HBFS Robotics_files/EnlighterJS.min.css" type="text/css" media="all">
<link rel="https://api.w.org/" href="https://hbfsrobotics.com/wp-json/">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://hbfsrobotics.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://hbfsrobotics.com/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="Smart Lights" href="https://hbfsrobotics.com/blog/smart-lights">
<link rel="next" title="Using AirSim to develop autonomous driving algorithms" href="https://hbfsrobotics.com/blog/using-airsim-for-autonomous-driving-algorithms">
<meta name="generator" content="WordPress 5.2.3">
<link rel="canonical" href="https://hbfsrobotics.com/blog/configuring-vs-code-arm-development-stm32cubemx">
<link rel="shortlink" href="https://hbfsrobotics.com/?p=227">
<link rel="alternate" type="application/json+oembed" href="https://hbfsrobotics.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fhbfsrobotics.com%2Fblog%2Fconfiguring-vs-code-arm-development-stm32cubemx">
<link rel="alternate" type="text/xml+oembed" href="https://hbfsrobotics.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fhbfsrobotics.com%2Fblog%2Fconfiguring-vs-code-arm-development-stm32cubemx&amp;format=xml">
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async="" src="./Using Visual Studio Code with STM32CubeMX for ARM Development – HBFS Robotics_files/js"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'UA-127166271-1');
        </script>	
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
	
</head>

<body class="post-template-default single single-post postid-227 single-format-standard">

<header>
	<nav class="navbar navbar-default navbar-static-top" id="hbfs-navbar">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="http://hbfsrobotics.com/">
					<span class="hbfs-logo">HBFS </span>
					<span class="hbfs-logo-domain">&nbsp;Robotics</span>
				</a>
			</div>
			
						<div id="navbar" class="navbar-collapse collapse">				
					
<div id="site-navigation" class="main-navigation" role="navigation" aria-label="Top Menu">
	
	<div class="menu-hbfs-top-menu-container"><ul id="top-menu" class="nav navbar-nav navbar-right"><li id="menu-item-339" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-339"><a href="https://hbfsrobotics.com/linefollower">Linefollower</a></li>
<li id="menu-item-33" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-33"><a href="https://hbfsrobotics.com/">Competitions</a></li>
<li id="menu-item-153" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-153"><a href="https://hbfsrobotics.com/blog">Blog</a></li>
<li id="menu-item-34" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-34"><a href="https://hbfsrobotics.com/about-us">About Us</a></li>
</ul></div>
</div><!-- #site-navigation -->
			</div><!-- .navigation-top -->
						
		</div>
	</nav>
</header>

<div class="hbfs-cookies-agreement" style="display: none;">
	This website uses cookies. By using our website you consent to the <a href="https://www.aboutcookies.org/" target="_BLANK" title="Cookies Policy">use of cookies</a>.
	<button class="hbfs-cookie-accept">Agree</button>
</div>




<div class="hbfs-content content-area" id="primary">
    <div id="main" class="site-main container container-fluid" role="main">		
        <!-- Page content -->
        <div class="row">    
            <div class="col-sm-8">
            
<article id="post-227" class="post-227 post type-post status-publish format-standard has-post-thumbnail hentry category-software-development tag-arm-cortex tag-open-source tag-stm32cubemx tag-toolchain">
    <section class="hbfs-post-header">
    <h1 class="entry-title hbfs-post-standalone">Using Visual Studio Code with STM32CubeMX for ARM Development</h1><ul class="hbfs-post-details ">
        <li class="hbfs-post-author">
            <a href="http://hbfsrobotics.com/about-us#cristian-dobre">Cristian Dobre</a>
        </li><li class="hbfs-post-date">
            <span>7 October 2018</span>
        </li>
        <!--<li class="hbfs-post-readtime">
            5 min <span>read</span>
        </li>
        <li class="hbfs-post-comments">
            <span class="glyphicon glyphicon-comment" aria-hidden="true"></span> 15
        </li>-->
    </ul>    </section>

    
    <section class="hbfs-post-text">
        <p>Every day, the software world is moving away from traditional software and hardware tools by replacing them with better and faster open source alternatives. Today, the most compelling open source alternatives for ARM embedded development are based on Eclipse.&nbsp;Setting up a perfect workflow for embedded software development with no licensing costs can be a daunting task if you don’t know where to start.</p>
<p>As I’m not a fan of Eclipse, I’ll show you how to configure VS Code for this task. I chose this IDE because it’s blazing fast, Intellisense always works and it supports extensive customisation through plugins and configuration files.</p>
<p>In this tutorial we’ll use the ST-Link adapter for programming and debugging. If you want to go completely open-source, <a href="https://github.com/blacksphere/blackmagic/wiki">black magic probe</a> has you covered.</p>
<p>&nbsp;</p>
<h2>Should I do this?</h2>
<p>Well, it depends. If you are working on a large scale project you’re probably better off using traditional paid IDEs like uVision or IAR because of their wider compatibility across many product versions and operating systems. Also, if you are looking for a method of programming ARM Cortex devices which is royalty free and easier to setup you may want to check out&nbsp;<a href="https://visualgdb.com/tutorials/arm/stm32/" target="_blank" rel="noopener">VisualGDB,</a>&nbsp;<a href="http://www.openstm32.org/" target="_blank" rel="noopener">SW4STM32</a>&nbsp;or other Eclipse based alternative.</p>
<p>However, if you want the full power of Intellisense at your fingertips and faster build times this is the way to go. Trust me, it makes a whole lot of difference in development.</p>
<p><img class="img-responsive alignnone size-medium_large wp-image-277" src="./Using Visual Studio Code with STM32CubeMX for ARM Development – HBFS Robotics_files/IMG_7234.jpg" alt="NUCLEO F303K8 Programmed from VS Code" srcset="https://hbfsrobotics.com/wp-content/uploads/2018/08/IMG_7234.jpg 4032w, https://hbfsrobotics.com/wp-content/uploads/2018/08/IMG_7234-768x576.jpg 768w, https://hbfsrobotics.com/wp-content/uploads/2018/08/IMG_7234-1200x900.jpg 1200w, https://hbfsrobotics.com/wp-content/uploads/2018/08/IMG_7234-1600x1200.jpg 1600w, https://hbfsrobotics.com/wp-content/uploads/2018/08/IMG_7234-1920x1440.jpg 1920w" sizes="(max-width: 767px) 96vw, (max-width: 1599px) 62vw, (min-width: 1600px) 62vw, 1920px"></p>
<p>&nbsp;</p>
<h2>Prerequisites</h2>
<p>A <strong>NUCLEO-F303K8</strong> development kit or similar ST board. For other boards you’ll need to update the configuration files with your processor name and series. All the external tools necessary to build and flash ARM Cortex embedded software will be placed in the VSARM folder.</p>
<ol>
<li>Create a folder named <strong>VSARM</strong> in <strong>C:/</strong></li>
<li><strong>Visual Studio Code</strong> – <a href="https://code.visualstudio.com/">https://code.visualstudio.com/</a></li>
<li><strong>STM32Cube</strong> initialization code generator – <a href="https://www.st.com/en/development-tools/stm32cubemx.html">https://www.st.com/en/development-tools/stm32cubemx.html</a></li>
<li><strong>GNU Embedded Toolchain</strong> for ARM – <a href="https://developer.arm.com/open-source/gnu-toolchain/gnu-rm/downloads">https://developer.arm.com/open-source/gnu-toolchain/gnu-rm/downloads</a>\
<ul>
<li>Change Install Location to <strong>C:\VSARM\armcc\</strong></li>
</ul>
</li>
<li><strong>Texane’s ST-Link Tools</strong> – <a href="https://github.com/texane/stlink/releases">https://github.com/texane/stlink/releases</a>
<ul>
<li>Get the binaries and extract the release in <strong>C:\VSARM\stlink\</strong></li>
</ul>
</li>
<li><strong>MinGW-W64</strong> – <a href="https://sourceforge.net/projects/mingw-w64/">https://sourceforge.net/projects/mingw-w64/</a>
<ul>
<li>Change the install location to <strong>C:\VSARM\mingw\</strong></li>
</ul>
</li>
<li><strong>ST-Link</strong> drivers – <a href="https://www.st.com/en/development-tools/st-link-v2.html">https://www.st.com/en/development-tools/st-link-v2.html</a></li>
</ol>
<p>&nbsp;</p>
<h2>Environment configuration</h2>
<p>Open <strong>Environment variables</strong> setup dialog. Depending on your system configuration and administrative rights you may choose to modify either the User variables or the System variables. Make the following changes:</p>
<ol>
<li>Create a new variable named <strong>VSARM</strong> pointing to <strong>C:\VSARM\</strong></li>
</ol>
<p><img class="img-responsive size-full wp-image-239 aligncenter" src="./Using Visual Studio Code with STM32CubeMX for ARM Development – HBFS Robotics_files/cc2.png" alt="VSARM Variable"></p>
<ol start="2">
<li>Add <strong>C:\VSARM\stlink\bin</strong> to the Path variable in the variables pane</li>
<li>Add <strong>C:\VSARM\armcc\bin</strong> to the Path variable in the variables pane</li>
<li>Add <strong>C:\VSARM\mingw\mingw32\bin</strong> to the Path in the variables pane</li>
</ol>
<p><img class="img-responsive size-full wp-image-268 aligncenter" src="./Using Visual Studio Code with STM32CubeMX for ARM Development – HBFS Robotics_files/2.png" alt="environment variables path"></p>
<p>&nbsp;</p>
<p>Make sure executable files are present in all of the three sub-folders included above.</p>
<p>&nbsp;</p>
<h2>VS Code Configuration</h2>
<p>After installing Visual Studio Code, open the IDE, navigate to Extensions tab or press Ctrl + Shift + X.</p>
<p>Install the following extensions:</p>
<ul>
<li>C/C++ – <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools">https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools</a></li>
<li>Cortex Debug – <a href="https://marketplace.visualstudio.com/items?itemName=marus25.cortex-debug">https://marketplace.visualstudio.com/items?itemName=marus25.cortex-debug</a></li>
<li>Project Manager – <a href="https://marketplace.visualstudio.com/items?itemName=alefragnani.project-manager">https://marketplace.visualstudio.com/items?itemName=alefragnani.project-manager</a></li>
</ul>
<p>Press F1 and type user settings json. Select Open Settings (JSON). In the opened file, add the following property and save.</p>
<pre class="EnlighterJSRAW" data-enlighter-language="json" style="display: none;">"cortex-debug.armToolchainPath": "${env:VSARM}\\armcc\\bin\\"</pre><div class="EnlighterJSWrapper enlighterEnlighterJSWrapper"><ol class="hoverEnabled enlighterEnlighterJS EnlighterJS"><li class=" odd"><span class="kw1">"cortex-debug.armToolchainPath"</span><span class="sy0">:</span><span class=""> "$</span><span class="br0">{</span><span class="">env</span><span class="sy0">:</span><span class="">VSARM</span><span class="br0">}</span><span class="">\\armcc\\bin\\"</span></li></ol><pre style="display: none;">"cortex-debug.armToolchainPath": "${env:VSARM}\\armcc\\bin\\"</pre></div>
<p>&nbsp;</p>
<h2>STM32 Workspace Setup</h2>
<p>We will create a folder to serve as a workspace for our projects. We will configure two projects to get the development going. As a first step, create a folder named <strong>STM32_Projects</strong> on your desktop.</p>
<p>Then, create two subfolders, one named <strong>template_F3</strong> and one named <strong>blink</strong>. Within VS Code navigate to files tab or press Ctrl + Shift + E. Click on Add folder to the workspace. Navigate to your <strong>STM32_Projects</strong> folder and select it.</p>
<p>Press F1 and type <strong>save workspace</strong>. Select <strong>Workspaces: Save Workspace As</strong>. Navigate to your STM32_Projects folder and save the file with an appropriate name.</p>
<p><img class="img-responsive alignnone size-full wp-image-269" src="./Using Visual Studio Code with STM32CubeMX for ARM Development – HBFS Robotics_files/3.png" alt="Saving workspace in VS Code" srcset="https://hbfsrobotics.com/wp-content/uploads/2018/08/3.png 954w, https://hbfsrobotics.com/wp-content/uploads/2018/08/3-768x488.png 768w" sizes="(max-width: 767px) 96vw, (max-width: 1599px) 62vw, (min-width: 1600px) 62vw, 1920px"></p>
<p>Press F1 and type <strong>save project</strong>. Tap Enter and set the project name to <strong>template_F3</strong>.</p>
<p>Press F1 to <strong>edit projects</strong>. Modify the <strong>rootPath</strong> option to point to the <strong>template_F3</strong> subfolder like below.</p>
<pre class="EnlighterJSRAW" data-enlighter-language="json" style="display: none;">[
  {
    "name": "template_F3",
    "rootPath": "c:\\Users\\cristi.dbr\\Desktop\\STM32_Projects\\template_F3",
    "paths": [],
    "group": ""
  },
  {
    "name": "blink",
    "rootPath": "c:\\Users\\cristi.dbr\\Desktop\\STM32_Projects\\blink",
    "paths": [],
    "group": ""
  }
]</pre><div class="EnlighterJSWrapper enlighterEnlighterJSWrapper"><ol class="hoverEnabled enlighterEnlighterJS EnlighterJS"><li class=" odd"><span class="br0">[</span><span class=""></span></li><li class=" even"><span class="">  </span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">"name"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"template_F3"</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="kw1">"rootPath"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"c:\\Users\\cristi.dbr\\Desktop\\STM32_Projects\\template_F3"</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">"paths"</span><span class="sy0">:</span><span class=""> </span><span class="br0">[</span><span class="br0">]</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="kw1">"group"</span><span class="sy0">:</span><span class=""> </span><span class="st0">""</span><span class=""></span></li><li class=" odd"><span class="">  </span><span class="br0">}</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">  </span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">"name"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"blink"</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="kw1">"rootPath"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"c:\\Users\\cristi.dbr\\Desktop\\STM32_Projects\\blink"</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">"paths"</span><span class="sy0">:</span><span class=""> </span><span class="br0">[</span><span class="br0">]</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="kw1">"group"</span><span class="sy0">:</span><span class=""> </span><span class="st0">""</span><span class=""></span></li><li class=" odd"><span class="">  </span><span class="br0">}</span><span class=""></span></li><li class=" even"><span class=""></span><span class="br0">]</span></li></ol><pre style="display: none;">[
  {
    "name": "template_F3",
    "rootPath": "c:\\Users\\cristi.dbr\\Desktop\\STM32_Projects\\template_F3",
    "paths": [],
    "group": ""
  },
  {
    "name": "blink",
    "rootPath": "c:\\Users\\cristi.dbr\\Desktop\\STM32_Projects\\blink",
    "paths": [],
    "group": ""
  }
]</pre></div>
<p>Duplicate the JSON project entry to create another project named blink pointing to our blink subfolder. Save the file and press F1 to <strong>List projects to open</strong>&nbsp;and click on the<strong> template_F3</strong> project to open it. Your template project is now open.</p>
<p>You will need to update this file when you create new projects to let Project Manager extension know where your stuff is.</p>
<p>&nbsp;</p>
<h2>STM32 Project Setup</h2>
<p>Press F1, type <strong>edit config</strong> and select <strong>C/CPP: Edit Configurations….</strong> Replace the contents of <strong>c_cpp_properties.json</strong> with the following configuration.</p>
<pre class="EnlighterJSRAW" data-enlighter-language="json" style="display: none;">{
    "configurations": [
    {
    "name": "STM32 Debug",
    "includePath": [
        "${env:VSARM}/armcc/arm-none-eabi/include/c++/7.3.1",
        "${env:VSARM}/armcc/arm-none-eabi/include/c++/7.3.1/arm-none-eabi",
        "${env:VSARM}/armcc/arm-none-eabi/include/c++/7.3.1/backward",
        "${env:VSARM}/armcc/lib/gcc/arm-none-eabi/7.2.1/include",
        "${env:VSARM}/armcc/lib/gcc/arm-none-eabi/7.2.1/include-fixed",
        "${env:VSARM}/armcc/arm-none-eabi/include",
        "${workspaceRoot}/Drivers/CMSIS/Include/",
        "${workspaceRoot}/Drivers/CMSIS/Include/",
        "${workspaceRoot}/Drivers/CMSIS/Device/ST/STM32F3xx/Include/",
        "${workspaceRoot}/Core/Inc",
        "${workspaceRoot}/Core/Src",
        "${workspaceRoot}/Inc",
        "${workspaceRoot}/Src",
        "${workspaceRoot}/Drivers/STM32F3xx_HAL_Driver/Inc",
        "${workspaceRoot}/Drivers/STM32F3xx_HAL_Driver/Inc/Legacy/",
        "${workspaceRoot}/Drivers/STM32F3xx_HAL_Driver/Src"
    ],
    "defines": [
        "DEBUG",
        "DEFAULT_STACK_SIZE=2048",
        "HSE_VALUE=8000000",
        "OS_INCLUDE_STARTUP_INIT_MULTIPLE_RAM_SECTIONS",
        "PB_MSGID",
        "STM32F303",
        "STM32F303x8",
        "USE_DEVICE_MODE",
        "USE_FULL_ASSERT",
        "USE_HAL_DRIVER",
        "USE_USB_OTG_FS"
    ],
    "intelliSenseMode": "clang-x64",
    "browse": {
    "path": [
        "${workspaceRoot}",
        "${env:VSARM}/armcc"
    ],
    "limitSymbolsToIncludedHeaders": false,
    "databaseFilename": ""
    }
    }
    ],
    "version": 4
}</pre><div class="EnlighterJSWrapper enlighterEnlighterJSWrapper"><ol class="hoverEnabled enlighterEnlighterJS EnlighterJS"><li class=" odd"><span class="br0">{</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="kw1">"configurations"</span><span class="sy0">:</span><span class=""> </span><span class="br0">[</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="br0">{</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="kw1">"name"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"STM32 Debug"</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">"includePath"</span><span class="sy0">:</span><span class=""> </span><span class="br0">[</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="st0">"${env:VSARM}/armcc/arm-none-eabi/include/c++/7.3.1"</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="st0">"${env:VSARM}/armcc/arm-none-eabi/include/c++/7.3.1/arm-none-eabi"</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="st0">"${env:VSARM}/armcc/arm-none-eabi/include/c++/7.3.1/backward"</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="st0">"${env:VSARM}/armcc/lib/gcc/arm-none-eabi/7.2.1/include"</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="st0">"${env:VSARM}/armcc/lib/gcc/arm-none-eabi/7.2.1/include-fixed"</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="st0">"${env:VSARM}/armcc/arm-none-eabi/include"</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="st0">"${workspaceRoot}/Drivers/CMSIS/Include/"</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="st0">"${workspaceRoot}/Drivers/CMSIS/Include/"</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="st0">"${workspaceRoot}/Drivers/CMSIS/Device/ST/STM32F3xx/Include/"</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="st0">"${workspaceRoot}/Core/Inc"</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="st0">"${workspaceRoot}/Core/Src"</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="st0">"${workspaceRoot}/Inc"</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="st0">"${workspaceRoot}/Src"</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="st0">"${workspaceRoot}/Drivers/STM32F3xx_HAL_Driver/Inc"</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="st0">"${workspaceRoot}/Drivers/STM32F3xx_HAL_Driver/Inc/Legacy/"</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="st0">"${workspaceRoot}/Drivers/STM32F3xx_HAL_Driver/Src"</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="br0">]</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">"defines"</span><span class="sy0">:</span><span class=""> </span><span class="br0">[</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="st0">"DEBUG"</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="st0">"DEFAULT_STACK_SIZE=2048"</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="st0">"HSE_VALUE=8000000"</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="st0">"OS_INCLUDE_STARTUP_INIT_MULTIPLE_RAM_SECTIONS"</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="st0">"PB_MSGID"</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="st0">"STM32F303"</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="st0">"STM32F303x8"</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="st0">"USE_DEVICE_MODE"</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="st0">"USE_FULL_ASSERT"</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="st0">"USE_HAL_DRIVER"</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="st0">"USE_USB_OTG_FS"</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="br0">]</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="kw1">"intelliSenseMode"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"clang-x64"</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">"browse"</span><span class="sy0">:</span><span class=""> </span><span class="br0">{</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="kw1">"path"</span><span class="sy0">:</span><span class=""> </span><span class="br0">[</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="st0">"${workspaceRoot}"</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="st0">"${env:VSARM}/armcc"</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="br0">]</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="kw1">"limitSymbolsToIncludedHeaders"</span><span class="sy0">:</span><span class=""> </span><span class="kw2">false</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">"databaseFilename"</span><span class="sy0">:</span><span class=""> </span><span class="st0">""</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="br0">}</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="br0">}</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="br0">]</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">"version"</span><span class="sy0">:</span><span class=""> </span><span class="nu0">4</span><span class=""></span></li><li class=" even"><span class=""></span><span class="br0">}</span></li></ol><pre style="display: none;">{
    "configurations": [
    {
    "name": "STM32 Debug",
    "includePath": [
        "${env:VSARM}/armcc/arm-none-eabi/include/c++/7.3.1",
        "${env:VSARM}/armcc/arm-none-eabi/include/c++/7.3.1/arm-none-eabi",
        "${env:VSARM}/armcc/arm-none-eabi/include/c++/7.3.1/backward",
        "${env:VSARM}/armcc/lib/gcc/arm-none-eabi/7.2.1/include",
        "${env:VSARM}/armcc/lib/gcc/arm-none-eabi/7.2.1/include-fixed",
        "${env:VSARM}/armcc/arm-none-eabi/include",
        "${workspaceRoot}/Drivers/CMSIS/Include/",
        "${workspaceRoot}/Drivers/CMSIS/Include/",
        "${workspaceRoot}/Drivers/CMSIS/Device/ST/STM32F3xx/Include/",
        "${workspaceRoot}/Core/Inc",
        "${workspaceRoot}/Core/Src",
        "${workspaceRoot}/Inc",
        "${workspaceRoot}/Src",
        "${workspaceRoot}/Drivers/STM32F3xx_HAL_Driver/Inc",
        "${workspaceRoot}/Drivers/STM32F3xx_HAL_Driver/Inc/Legacy/",
        "${workspaceRoot}/Drivers/STM32F3xx_HAL_Driver/Src"
    ],
    "defines": [
        "DEBUG",
        "DEFAULT_STACK_SIZE=2048",
        "HSE_VALUE=8000000",
        "OS_INCLUDE_STARTUP_INIT_MULTIPLE_RAM_SECTIONS",
        "PB_MSGID",
        "STM32F303",
        "STM32F303x8",
        "USE_DEVICE_MODE",
        "USE_FULL_ASSERT",
        "USE_HAL_DRIVER",
        "USE_USB_OTG_FS"
    ],
    "intelliSenseMode": "clang-x64",
    "browse": {
    "path": [
        "${workspaceRoot}",
        "${env:VSARM}/armcc"
    ],
    "limitSymbolsToIncludedHeaders": false,
    "databaseFilename": ""
    }
    }
    ],
    "version": 4
}</pre></div>
<p>Adjust the defines section to match the microcontroller used and your HSE frequency. To create a release configuration, duplicate the configuration object, remove USE_FULL_ASSERT define and replace DEBUG with NDEBUG in the defines section.</p>
<p>Press F1 and type <strong>config task</strong>. Select <strong>Tasks: Configure tasks</strong>. Click on <strong>Create tasks.json file from template</strong> and select the <strong>Other</strong> option. The <strong>tasks.json</strong> file will open. Replace the contents of this file with the following and save the file. Adjust core parameter <strong>-j</strong> for you processor and change the optimization level with the OPT variable.</p>
<pre class="EnlighterJSRAW" data-enlighter-language="json" style="display: none;">{
    // See https://go.microsoft.com/fwlink/?LinkId=733558
    // for the documentation about the tasks.json format
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Make Firmware",
            "type": "shell",
            "command": "mingw32-make -j8 all TARGET=vsarm_firmware OPT=\"-O2\" BINPATH=\"${env:VSARM}armcc\/bin\"",
            "options": {
                "cwd": "${workspaceRoot}"
            }, 
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "problemMatcher": []
        },
        {
            "label": "Load Firmware",
            "type": "shell",
            "command": "st-flash write ./build/vsarm_firmware.bin 0x08000000",
            "options": {
                "cwd": "${workspaceRoot}"
            },
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "problemMatcher": []
        }
    ]
}
</pre><div class="EnlighterJSWrapper enlighterEnlighterJSWrapper"><ol class="hoverEnabled enlighterEnlighterJS EnlighterJS"><li class=" odd"><span class="br0">{</span><span class=""></span></li><li class=" even"><span class="">    // See https</span><span class="sy0">:</span><span class="">//go.microsoft.com/fwlink/?LinkId=</span><span class="nu0">733558</span><span class=""></span></li><li class=" odd"><span class="">    // for the documentation about the tasks.json format</span></li><li class=" even"><span class="">    </span><span class="kw1">"version"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"2.0.0"</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">"tasks"</span><span class="sy0">:</span><span class=""> </span><span class="br0">[</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">            </span><span class="kw1">"label"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"Make Firmware"</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">            </span><span class="kw1">"type"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"shell"</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">            </span><span class="kw1">"command"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"mingw32-make -j8 all TARGET=vsarm_firmware OPT=\"-O2\" BINPATH=\"${env:VSARM}armcc\/bin\""</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">            </span><span class="kw1">"options"</span><span class="sy0">:</span><span class=""> </span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">                </span><span class="kw1">"cwd"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"${workspaceRoot}"</span><span class=""></span></li><li class=" even"><span class="">            </span><span class="br0">}</span><span class="sy0">,</span><span class=""> </span></li><li class=" odd"><span class="">            </span><span class="kw1">"group"</span><span class="sy0">:</span><span class=""> </span><span class="br0">{</span><span class=""></span></li><li class=" even"><span class="">                </span><span class="kw1">"kind"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"build"</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">                </span><span class="kw1">"isDefault"</span><span class="sy0">:</span><span class=""> </span><span class="kw2">true</span><span class=""></span></li><li class=" even"><span class="">            </span><span class="br0">}</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">            </span><span class="kw1">"problemMatcher"</span><span class="sy0">:</span><span class=""> </span><span class="br0">[</span><span class="br0">]</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="br0">}</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="br0">{</span><span class=""></span></li><li class=" even"><span class="">            </span><span class="kw1">"label"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"Load Firmware"</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">            </span><span class="kw1">"type"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"shell"</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">            </span><span class="kw1">"command"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"st-flash write ./build/vsarm_firmware.bin 0x08000000"</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">            </span><span class="kw1">"options"</span><span class="sy0">:</span><span class=""> </span><span class="br0">{</span><span class=""></span></li><li class=" even"><span class="">                </span><span class="kw1">"cwd"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"${workspaceRoot}"</span><span class=""></span></li><li class=" odd"><span class="">            </span><span class="br0">}</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">            </span><span class="kw1">"group"</span><span class="sy0">:</span><span class=""> </span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">                </span><span class="kw1">"kind"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"build"</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">                </span><span class="kw1">"isDefault"</span><span class="sy0">:</span><span class=""> </span><span class="kw2">true</span><span class=""></span></li><li class=" odd"><span class="">            </span><span class="br0">}</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">            </span><span class="kw1">"problemMatcher"</span><span class="sy0">:</span><span class=""> </span><span class="br0">[</span><span class="br0">]</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="br0">}</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="br0">]</span><span class=""></span></li><li class=" odd"><span class=""></span><span class="br0">}</span></li></ol><pre style="display: none;">{
    // See https://go.microsoft.com/fwlink/?LinkId=733558
    // for the documentation about the tasks.json format
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Make Firmware",
            "type": "shell",
            "command": "mingw32-make -j8 all TARGET=vsarm_firmware OPT=\"-O2\" BINPATH=\"${env:VSARM}armcc\/bin\"",
            "options": {
                "cwd": "${workspaceRoot}"
            }, 
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "problemMatcher": []
        },
        {
            "label": "Load Firmware",
            "type": "shell",
            "command": "st-flash write ./build/vsarm_firmware.bin 0x08000000",
            "options": {
                "cwd": "${workspaceRoot}"
            },
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "problemMatcher": []
        }
    ]
}</pre></div>
<p>The configuration creates two tasks, one to build the project and another one to flash the microcontroller.</p>
<p>&nbsp;</p>
<h2>Launch configurations</h2>
<p>Press F1, type <strong>launch</strong> and select <strong>Debug: Open launch.json</strong>. Choose the <strong>Cortex Debug</strong> option. Replace the contents of <strong>launch.json</strong> file with the following:</p>
<pre class="EnlighterJSRAW" data-enlighter-language="json" style="display: none;">{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
    {
        "type": "cortex-debug",
        "request": "launch",
        "servertype": "stutil",
        "cwd": "${workspaceRoot}",
        "executable": "./build/vsarm_firmware.elf",
        "name": "Debug (ST-Util)",
        "device": "STM32F303K8",
        "v1": false,
        "svdFile": "${workspaceRoot}/STM32F303x.svd"
        }
    ]
}</pre><div class="EnlighterJSWrapper enlighterEnlighterJSWrapper"><ol class="hoverEnabled enlighterEnlighterJS EnlighterJS"><li class=" odd"><span class="br0">{</span><span class=""></span></li><li class=" even"><span class="">    // Use IntelliSense to learn about possible attributes.</span></li><li class=" odd"><span class="">    // Hover to view descriptions of existing attributes.</span></li><li class=" even"><span class="">    // For more information</span><span class="sy0">,</span><span class=""> visit</span><span class="sy0">:</span><span class=""> https</span><span class="sy0">:</span><span class="">//go.microsoft.com/fwlink/?linkid=</span><span class="nu0">830387</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="kw1">"version"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"0.2.0"</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="kw1">"configurations"</span><span class="sy0">:</span><span class=""> </span><span class="br0">[</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="br0">{</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="kw1">"type"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"cortex-debug"</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="kw1">"request"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"launch"</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="kw1">"servertype"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"stutil"</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="kw1">"cwd"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"${workspaceRoot}"</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="kw1">"executable"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"./build/vsarm_firmware.elf"</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="kw1">"name"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"Debug (ST-Util)"</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="kw1">"device"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"STM32F303K8"</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="kw1">"v1"</span><span class="sy0">:</span><span class=""> </span><span class="kw2">false</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="kw1">"svdFile"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"${workspaceRoot}/STM32F303x.svd"</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="br0">}</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="br0">]</span><span class=""></span></li><li class=" odd"><span class=""></span><span class="br0">}</span></li></ol><pre style="display: none;">{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
    {
        "type": "cortex-debug",
        "request": "launch",
        "servertype": "stutil",
        "cwd": "${workspaceRoot}",
        "executable": "./build/vsarm_firmware.elf",
        "name": "Debug (ST-Util)",
        "device": "STM32F303K8",
        "v1": false,
        "svdFile": "${workspaceRoot}/STM32F303x.svd"
        }
    ]
}</pre></div>
<p>Adjust the <strong>device</strong> option to for your microcontroller. Cortex-Debug extension for Visual Studio Code requires an SVD file to allow the inspection of peripheral registers. You can find a list of the SVD files for the most used STMicroelectronics microcontrollers here: <a href="https://github.com/posborne/cmsis-svd/tree/master/data/STMicro">https://github.com/posborne/cmsis-svd/tree/master/data/STMicro</a>.</p>
<p>Download the appropriate file for your processor and paste it in the <strong>template_F3</strong> folder. Then, adjust the <strong>sdvFile</strong> option in the launch configuration.</p>
<p>&nbsp;</p>
<h2>CubeMX blink example</h2>
<p>Navigate to the template_F3 subfolder. Copy the contents of this folder to your <strong>blink</strong> folder. If the <strong>.vscode</strong> folder is not visible, make sure you have the option to <strong>Show hidden files and folders</strong> checked in <strong>Folder and Search options</strong>.</p>
<p><img class="img-responsive alignnone size-medium_large wp-image-270" src="./Using Visual Studio Code with STM32CubeMX for ARM Development – HBFS Robotics_files/4.png" alt="template project STM32F3" srcset="https://hbfsrobotics.com/wp-content/uploads/2018/08/4.png 1526w, https://hbfsrobotics.com/wp-content/uploads/2018/08/4-768x122.png 768w, https://hbfsrobotics.com/wp-content/uploads/2018/08/4-1200x191.png 1200w" sizes="(max-width: 767px) 96vw, (max-width: 1599px) 62vw, (min-width: 1600px) 62vw, 1920px"></p>
<p>Open <strong>CubeMX</strong> and create a new project. Search for your microcontroller and double click to create the project. Save the project in&nbsp;<strong>STM32_Projects/blink/ </strong>as<strong> blink.ioc.</strong></p>
<p>The GUI to edit peripherals will appear. Check your board schematics to find the pins for the LEDs. For the&nbsp;<a href="https://os.mbed.com/media/uploads/bcostm/nucleo_f303k8_2017_10_10.png">NUCLEO-F303K8</a> board, the LED is on <strong>PB3</strong>&nbsp;pin. Click on the LED pin to change its function to <strong>GPIO_Output</strong>.</p>
<p><img class="img-responsive alignnone size-medium_large wp-image-271" src="./Using Visual Studio Code with STM32CubeMX for ARM Development – HBFS Robotics_files/5.png" alt="" srcset="https://hbfsrobotics.com/wp-content/uploads/2018/08/5.png 1283w, https://hbfsrobotics.com/wp-content/uploads/2018/08/5-768x436.png 768w, https://hbfsrobotics.com/wp-content/uploads/2018/08/5-1200x681.png 1200w" sizes="(max-width: 767px) 96vw, (max-width: 1599px) 62vw, (min-width: 1600px) 62vw, 1920px"></p>
<p>Save and click on generate the source code from <strong>Project / Generate Code</strong> menu.</p>
<p>The project settings dialog will appear. Make the following changes.</p>
<ul>
<li>Set the project name the same as the folder name (<strong>blink</strong>)</li>
<li>Set the location to the workspace folder (<strong>STM32_Projects</strong>)</li>
<li>Make sure the Toolchain IDE option is set to <strong>Makefile</strong></li>
<li>In the Code Generator tab, make sure the <strong>Delete previously generated files when not re-generated&nbsp;</strong>option is <strong>unchecked</strong></li>
</ul>
<p><img class="img-responsive size-full wp-image-272 aligncenter" src="./Using Visual Studio Code with STM32CubeMX for ARM Development – HBFS Robotics_files/6.png" alt="STM32Cube makefile project settings"></p>
<p><img class="img-responsive size-full wp-image-273 aligncenter" src="./Using Visual Studio Code with STM32CubeMX for ARM Development – HBFS Robotics_files/7.png" alt="STM32Cube Makefile code generator settings"></p>
<p>Click Ok and allow to overwrite. Initialization code is now generated for the project. <strong>The first time it generates the code, Cube will delete the .vscode folder. Copy and paste the json files from the template as well as the svd file.&nbsp;</strong></p>
<p>&nbsp;</p>
<h2>Adding keyboard shortcuts</h2>
<p>To make life easier, we’ll add shortcuts for build and flash tasks. Press F1 and search for <strong>keybindings</strong>. Open the JSON file and add the following shortcuts:</p>
<pre class="EnlighterJSRAW" data-enlighter-language="json" style="display: none;">// Place your key bindings in this file to overwrite the defaults
[
    {
        "key": "f5",
        "command": "workbench.action.tasks.runTask",
        "args": "Make Firmware"
    },
    {
        "key": "f6",
        "command": "workbench.action.tasks.runTask",
        "args": "Load Firmware"
    }    
]</pre><div class="EnlighterJSWrapper enlighterEnlighterJSWrapper"><ol class="hoverEnabled enlighterEnlighterJS EnlighterJS"><li class=" odd"><span class="">// Place your key bindings in this file to overwrite the defaults</span></li><li class=" even"><span class=""></span><span class="br0">[</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="br0">{</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="kw1">"key"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"f5"</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="kw1">"command"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"workbench.action.tasks.runTask"</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="kw1">"args"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"Make Firmware"</span><span class=""></span></li><li class=" odd"><span class="">    </span><span class="br0">}</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="br0">{</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="kw1">"key"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"f6"</span><span class="sy0">,</span><span class=""></span></li><li class=" even"><span class="">        </span><span class="kw1">"command"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"workbench.action.tasks.runTask"</span><span class="sy0">,</span><span class=""></span></li><li class=" odd"><span class="">        </span><span class="kw1">"args"</span><span class="sy0">:</span><span class=""> </span><span class="st0">"Load Firmware"</span><span class=""></span></li><li class=" even"><span class="">    </span><span class="br0">}</span><span class="">    </span></li><li class=" odd"><span class=""></span><span class="br0">]</span></li></ol><pre style="display: none;">// Place your key bindings in this file to overwrite the defaults
[
    {
        "key": "f5",
        "command": "workbench.action.tasks.runTask",
        "args": "Make Firmware"
    },
    {
        "key": "f6",
        "command": "workbench.action.tasks.runTask",
        "args": "Load Firmware"
    }    
]</pre></div>
<p>&nbsp;</p>
<h2>Programming and debugging</h2>
<p>Return to Visual Studio Code, press F1 and type <strong>list projects</strong>. Select the <strong>blink </strong>project.&nbsp;Edit the <strong>main.c</strong> file, then add some code to blink the LEDs.</p>
<p><img class="img-responsive alignnone size-medium_large wp-image-274" src="./Using Visual Studio Code with STM32CubeMX for ARM Development – HBFS Robotics_files/8.png" alt="Programming STM32 from VS Code" srcset="https://hbfsrobotics.com/wp-content/uploads/2018/08/8.png 1592w, https://hbfsrobotics.com/wp-content/uploads/2018/08/8-768x427.png 768w, https://hbfsrobotics.com/wp-content/uploads/2018/08/8-1200x667.png 1200w" sizes="(max-width: 767px) 96vw, (max-width: 1599px) 62vw, (min-width: 1600px) 62vw, 1920px"></p>
<p>For example:</p>
<pre class="EnlighterJSRAW" data-enlighter-language="c" style="display: none;">HAL_GPIO_WritePin( GPIOB, GPIO_PIN_3, GPIO_PIN_SET );
HAL_Delay( 100 );
HAL_GPIO_WritePin( GPIOB, GPIO_PIN_3, GPIO_PIN_RESET );
HAL_Delay( 100 );</pre><div class="EnlighterJSWrapper enlighterEnlighterJSWrapper"><ol class="hoverEnabled enlighterEnlighterJS EnlighterJS"><li class=" odd"><span class="de1">HAL_GPIO_WritePin</span><span class="br0">(</span><span class=""> GPIOB, GPIO_PIN_3, GPIO_PIN_SET </span><span class="br0">)</span><span class="">;</span></li><li class=" even"><span class=""></span><span class="de1">HAL_Delay</span><span class="br0">(</span><span class=""> </span><span class="nu0">100</span><span class=""> </span><span class="br0">)</span><span class="">;</span></li><li class=" odd"><span class=""></span><span class="de1">HAL_GPIO_WritePin</span><span class="br0">(</span><span class=""> GPIOB, GPIO_PIN_3, GPIO_PIN_RESET </span><span class="br0">)</span><span class="">;</span></li><li class=" even"><span class=""></span><span class="de1">HAL_Delay</span><span class="br0">(</span><span class=""> </span><span class="nu0">100</span><span class=""> </span><span class="br0">)</span><span class="">;</span></li></ol><pre style="display: none;">HAL_GPIO_WritePin( GPIOB, GPIO_PIN_3, GPIO_PIN_SET );
HAL_Delay( 100 );
HAL_GPIO_WritePin( GPIOB, GPIO_PIN_3, GPIO_PIN_RESET );
HAL_Delay( 100 );</pre></div>
<p>Save and press <strong>F5</strong> to build and <strong>F6</strong> to flash. If all has gone well, it should work perfectly on the first try. You can now start debugging by going to the debug pane. If the SVD file is present, it will allow you to inspect the state of the peripheral registers.</p>
<p><img class="img-responsive alignnone size-medium_large wp-image-278" src="./Using Visual Studio Code with STM32CubeMX for ARM Development – HBFS Robotics_files/9.png" alt="Debugging STM32 in VS Code" srcset="https://hbfsrobotics.com/wp-content/uploads/2018/08/9.png 1592w, https://hbfsrobotics.com/wp-content/uploads/2018/08/9-768x427.png 768w, https://hbfsrobotics.com/wp-content/uploads/2018/08/9-1200x667.png 1200w" sizes="(max-width: 767px) 96vw, (max-width: 1599px) 62vw, (min-width: 1600px) 62vw, 1920px"></p>
<p>When your code increases in size, you’ll want to separate it in different modules. For this, you have to add the C files path in the Makefile. STM32Cube does a great job keeping your changes when code is re-generated.</p>
<p><img class="img-responsive size-full wp-image-279 aligncenter" src="./Using Visual Studio Code with STM32CubeMX for ARM Development – HBFS Robotics_files/10.png" alt="Editing Makefile STM32Cube" srcset="https://hbfsrobotics.com/wp-content/uploads/2018/08/10.png 1007w, https://hbfsrobotics.com/wp-content/uploads/2018/08/10-768x474.png 768w" sizes="(max-width: 767px) 96vw, (max-width: 1599px) 62vw, (min-width: 1600px) 62vw, 1920px"></p>
<p>While this is an experimental approach and it takes some time to configure, I hope that the performance you can get out of it will convince you to consider this approach in production environments.</p>
<p>Happy coding!</p>
    </section>

    </article>
            </div>
            <div class="col-sm-4">
                
<!-- Tags widget --><div id="hbfstheme_post_tags-2" class="hbfs-sidebar-item widget widget_hbfstheme_post_tags"><h4 class="widget-title"><i class="fa fa-sticky-note-o" aria-hidden="true"></i> Tags</h4><ul class="hbfs-post-tags-list"><li><a href="https://hbfsrobotics.com/blog/tag/arm-cortex" rel="tag">arm-cortex</a></li><li><a href="https://hbfsrobotics.com/blog/tag/open-source" rel="tag">open-source</a></li><li><a href="https://hbfsrobotics.com/blog/tag/stm32cubemx" rel="tag">stm32cubemx</a></li><li><a href="https://hbfsrobotics.com/blog/tag/toolchain" rel="tag">toolchain</a></li></ul></div>            </div>
        </div>
    </div>
</div><!-- .wrap --> 


	<footer class="hbfs-footer site-footer" role="contentinfo">
        <div class="container">
            <div class="row" id="hbfs-main-footer">
                <div class="col-sm-2 col-md-3 col-lg-2 col-xs-12" id="hbfs-footer-social">
                    <h4>Want more?</h4>
                    <ul class="hbfs-ft-socials clearfix ">   
                        <li>
                            <a href="https://www.facebook.com/HBFS-Robotics-Team-1391337724460164/" target="_blank">
                                <i class="fa fa-facebook"></i>
                            </a>
                        </li> 
                        <!--<li>
                            <a href="#">
                                <i class="fa fa-linkedin"></i>
                            </a>
                        </li> 
                        <li>
                            <a href="#">
                                <i class="fa fa-github"></i>
                            </a>
                        </li> -->
                    </ul>
                    <div>
                        <p>Get in touch</p>
                    </div>
                </div>
				<!--
                <div class="col-sm-7 col-md-6 col-lg-7 col-xs-12" id="hbfs-links">
                    <div class="row">
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col-lg-1"></div>
                                <div class="col-sm-4">
                                    <h4>
                                        <i class="fa fa-flag-checkered"></i>
                                        Activities
                                    </h4>
                                    <ul>   
                                        <li>
                                            <a href="#">Competitions</a>
                                        </li> 
                                        <li>
                                            <a href="#">Robot Showcase</a>
                                        </li> 
                                        <li>
                                            <a href="#">Research</a>
                                        </li> 
                                    </ul>
                                </div>
                                <div class="col-sm-4">
                                    <h4>
                                        <i class="fa fa-handshake-o"></i>
                                        Support
                                    </h4>
                                    <ul>   
										<li>
                                            <a href="#">Donate</a>
                                        </li> 
                                        <li>
                                            <a href="#">Our Sponsors</a>
                                        </li> 
                                    </ul>
                                </div>
                                <div class="col-sm-4 col-lg-3">
                                    <h4>
                                        <i class="fa fa-newspaper-o"></i>
                                        Media
                                    </h4>
                                    <ul>   
                                        <li>
                                            <a href="#">About Us</a>
                                        </li> 
                                        <li>
                                            <a href="#">Press releases</a>
                                        </li> 
                                        <li>
                                            <a href="#">Contact</a>
                                        </li> 
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>-->
                <!--<div class="col-sm-3 col-xs-12" id="hbfs-footer-highlights">
                    <h4>
                        <i class="fa fa-star-o"></i>
                        Highlights
                    </h4>
                    <ul>   
                        <li>
                            <a href="#">Driving techniques for high power DC motors</a>
                        </li> 
                        <li>
                            <a href="#">Fusion Design Creative Solutions</a>
                        </li> 
                        <li>
                            <a href="#">eRated has a website footer that shows just how clean and easy to read you can make it</a>
                        </li> 
                    </ul>
                </div>-->
            </div>
        </div>
        <div class="container">
            <div class="row" id="hbfs-sub-footer">
				<div class="col-xs-6 col-sm-2" id="hbfs-footer-logo">
                    HBFS<span>Robotics</span>
                </div>
                <div class="col-xs-6 col-sm-2 col-sm-push-8" id="hbfs-footer-sitemap">
                    <a href="http://hbfsrobotics.com/sitemap.xml">
                        <i class="fa fa-sitemap"></i>
                        Sitemap
                    </a>
                </div>
                <div class="col-xs-12 col-sm-8 col-sm-pull-2">
                    <ul id="hbfs-footer-notes">
                        <li>© 2019</li>
                        <li class="hidden-xs hidden-sm hidden-md">All rights reserved</li>
                        <li>
                            Crafted by 
                            <a href="http://hbfsrobotics.com/blog/configuring-vs-code-arm-development-stm32cubemx#cdbr">@cdbr</a>
                            using jQuery and Bootstrap
                        </li>
                        <li class="hidden-sm hidden-xs">Powered by WordPress</li>
                    </ul>                    
                </div>            </div>
        </div>
    </footer>


<script type="text/javascript" src="./Using Visual Studio Code with STM32CubeMX for ARM Development – HBFS Robotics_files/jquery.min.js.Без названия"></script>
<script type="text/javascript" src="./Using Visual Studio Code with STM32CubeMX for ARM Development – HBFS Robotics_files/bootstrap.min.js.Без названия"></script>
<script type="text/javascript" src="./Using Visual Studio Code with STM32CubeMX for ARM Development – HBFS Robotics_files/js.cookie.min.js.Без названия"></script>
<script type="text/javascript" src="./Using Visual Studio Code with STM32CubeMX for ARM Development – HBFS Robotics_files/mootools-core-yc.js.Без названия"></script>
<script type="text/javascript" src="./Using Visual Studio Code with STM32CubeMX for ARM Development – HBFS Robotics_files/EnlighterJS.min.js.Без названия"></script>
<script type="text/javascript" src="./Using Visual Studio Code with STM32CubeMX for ARM Development – HBFS Robotics_files/wp-embed.min.js.Без названия"></script>
<script type="text/javascript">/* <![CDATA[ */EnlighterJS_Config = {"selector":{"block":"pre.EnlighterJSRAW","inline":"code.EnlighterJSRAW"},"language":"c","theme":"enlighter","indent":2,"hover":"hoverEnabled","showLinenumbers":true,"rawButton":false,"infoButton":false,"windowButton":false,"rawcodeDoubleclick":false,"grouping":true,"cryptex":{"enabled":false,"email":"mail@example.tld"}};!function(){var a=function(a){var b="Enlighter Error: ";console.error?console.error(b+a):console.log&&console.log(b+a)};return window.addEvent?"undefined"==typeof EnlighterJS?void a("Javascript Resources not loaded yet!"):"undefined"==typeof EnlighterJS_Config?void a("Configuration not loaded yet!"):void window.addEvent("domready",function(){EnlighterJS.Util.Init(EnlighterJS_Config.selector.block,EnlighterJS_Config.selector.inline,EnlighterJS_Config)}):void a("MooTools Framework not loaded yet!")}();;/* ]]> */</script>



<!-- Page generated by LiteSpeed Cache 2.9.8.5 on 2019-09-13 08:06:24 --></body></html>